!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.MusicPlayer=void 0;var a=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=n,this.tigger(t)}var n,t,a;return n=e,(t=[{key:"tigger",value:function(e){this.$el.addEventListener("click",function(n){var t=n.target;document.getElementById("player").classList.add("show");var r=t.dataset.num,a=e.filter(function(e){if(e.num==r)return e})[0],c=a.url,i=a.lyric,o=a.songname,u=a.singer;document.querySelector("#player").querySelector(".songname").innerText=o,document.querySelector("#player").querySelector(".singer").innerText=u;var s=document.querySelector(".lines");if(s.children.length>1?(s.innerHTML="",this.parseLyric(i)):this.parseLyric(i),document.querySelector(".targetAudio")){var l=document.querySelector(".targetAudio");l.src=c,l.play()}else this.initPlayer(c)}.bind(this))}},{key:"initPlayer",value:function(e){var n=this,t=document.createElement("audio");t.src=e,t.classList.add("targetAudio"),document.body.appendChild(t),t.play(),document.querySelector(".icon-pause").addEventListener("click",function(){t.pause(),document.querySelector(".pause").classList.add("playing")}),document.querySelector(".icon-play").addEventListener("click",function(){t.play(),document.querySelector(".pause").classList.remove("playing")}),setInterval(function(){for(var e=t.currentTime,r=~~(e/60),a=e-60*r,c="".concat(n.pad(r),":").concat(n.pad(a)),i=document.querySelector(".lines"),o=0;o<i.children.length;o++){var u=i.children[o].dataset.time,s=i.children[o+1].dataset.time;if(void 0!==i.children[o+1]&&u<c&&c<s){var l=i.children[o].offsetTop-i.offsetTop;i.style.transform="translateY(-".concat(l,"px)"),i.children[o].classList.add("active"),i.children[o].previousElementSibling&&i.children[o].previousElementSibling.classList.remove("active");break}}},300)}},{key:"pad",value:function(e){return e>=10?e+"":"0"+e}},{key:"parseLyric",value:function(e){var n=e.split("\n"),t=/^\[(.+)\](.*)$/;(n=n.map(function(e){var n=e.match(t);if(n)return{time:n[1],words:n[2]}})).map(function(e){if(e){var n=document.querySelector(".lyric"),t=document.createElement("p");t.setAttribute("data-time",e.time),t.innerText=e.words,n.children[0].appendChild(t)}})}}])&&r(n.prototype,t),a&&r(n,a),e}();n.MusicPlayer=a},function(e,n,t){"use strict";var r=t(0);fetch("/src/json/all.json").then(function(e){return e.json()}).then(function(e){var n=e.data,t=n.songs,a=n.songlist,c=document.querySelector(".songs"),i=document.createElement("ul");i.classList.add("rank-list");var o=parseInt(location.search.match(/\bid=([^&]*)/)[1]),u=a.filter(function(e){return e.id===o})[0];document.querySelector(".head-content").innerHTML='\n            <div class="head-content">\n              <img src='.concat(u.images,' alt="">\n              <p class="description">').concat(u.description,"</p>\n            </div>\n          "),document.querySelector(".head-bg").style.backgroundImage="url(".concat(u.images,")"),i.innerHTML=t.map(function(e){return'\n      <li class="rank-item" data-num="'.concat(e.num,'">\n        <div class="rank-num" data-num="').concat(e.num,'">').concat(e.num,'</div>\n        <div class= "rank-content" data-num="').concat(e.num,'">\n          <div class="songname" data-num="').concat(e.num,'">').concat(e.songname,'</div>\n          <div class="singer" data-num="').concat(e.num,'">').concat(e.singer,'</div>\n          <svg class="play" data-num="').concat(e.num,'">\n            <use xlink:href="#icon-custom-toplay"></use>\n          </svg>\n        </div>\n      </li>\n    ')}).join(""),c.appendChild(i);var s=document.querySelector(".rank-list");new r.MusicPlayer(s,t)}),document.getElementsByClassName("out-player")[0].addEventListener("click",function(e){e.target;document.getElementById("player").classList.remove("show")})}]);